"""
{{ name }} Module - Pydantic Schemas
Generated by TriFlow Module Generator
"""
from datetime import datetime
from uuid import UUID
from pydantic import BaseModel, Field
from typing import Optional

from app.shared.schemas import TimestampMixin, TenantScopedMixin


class {{ pascal_name }}Base(BaseModel):
    """Base schema for {{ name }}"""
    {% for field in fields %}
    {% if not field.auto_generated %}
    {{ field.name }}: {{ field.pydantic_type }}{% if field.required %} = Field(...){% endif %}{% if field.min_value %} = Field(..., ge={{ field.min_value }}){% endif %}{% if field.max_value %}, le={{ field.max_value }}){% endif %}{% if field.default_value %} = "{{ field.default_value }}"{% endif %}

    {% endif %}
    {% endfor %}


class {{ pascal_name }}Create({{ pascal_name }}Base):
    """{{ name }} 생성 요청"""
    pass


class {{ pascal_name }}Update(BaseModel):
    """{{ name }} 수정 요청 (부분 수정)"""
    {% for field in fields %}
    {% if not field.auto_generated and not field.immutable %}
    {{ field.name }}: Optional[{{ field.pydantic_type }}] = None
    {% endif %}
    {% endfor %}


class {{ pascal_name }}Response({{ pascal_name }}Base, TimestampMixin, TenantScopedMixin):
    """{{ name }} 응답"""
    id: UUID

    class Config:
        from_attributes = True
