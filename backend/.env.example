# Triflow AI Backend Environment Variables

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/triflow

# JWT Secret
JWT_SECRET_KEY=your-secret-key-here

# Encryption Key for Credentials (ERP/MES passwords, API keys, etc.)
# Generate a new key with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=gAAAAABf3xKZ8vQ...  # Replace with your generated key

# Redis (optional)
REDIS_URL=redis://localhost:6379/0

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Logging
LOG_LEVEL=INFO

# LLM API Keys (optional)
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# Notification Settings
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#alerts

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@triflow.ai
ALERT_EMAIL_TO=admin@example.com,ops@example.com

# ========== Middleware Feature Flags ==========
# 아래 미들웨어들은 기본적으로 활성화되어 있습니다.
# 성능 최적화가 필요하거나 불필요한 경우 false로 설정하여 비활성화할 수 있습니다.

# PII 마스킹 미들웨어 (개인정보 자동 마스킹)
# - 비활성화 시 로그/응답에 개인정보가 노출될 수 있음
PII_MASKING_ENABLED=true

# 감사 로그 미들웨어 (API 호출 기록)
# - 비활성화 시 사용자 행위 추적 불가
AUDIT_LOG_ENABLED=true

# Rate Limiting 미들웨어 (API 호출 제한)
# - 비활성화 시 DDoS 공격에 취약해질 수 있음
RATE_LIMIT_ENABLED=true

# 국제화(i18n) 미들웨어 (다국어 에러 메시지)
# - 비활성화 시 한국어 기본 메시지만 사용
I18N_ENABLED=true

# Prometheus 메트릭 미들웨어
# - 비활성화 시 /metrics 엔드포인트 데이터 수집 안됨
METRICS_ENABLED=true

# 보안 헤더 미들웨어 (XSS, Clickjacking 방지)
# - 비활성화 권장하지 않음
SECURITY_HEADERS_ENABLED=true
