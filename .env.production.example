# ===================================================
# TriFlow AI - Production Environment Variables
# ===================================================
# IMPORTANT: Copy this file to .env.production and fill in the values
# NEVER commit .env.production to version control!
# ===================================================

# ===========================================
# Application
# ===========================================
APP_NAME=TriFlow AI
APP_VERSION=0.1.0
ENVIRONMENT=production

# ===========================================
# Database (PostgreSQL)
# ===========================================
POSTGRES_USER=triflow
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_DB=triflow_ai
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# ===========================================
# Redis
# ===========================================
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_MAX_CONNECTIONS=50

# ===========================================
# MinIO (Object Storage)
# ===========================================
MINIO_ACCESS_KEY=triflow
MINIO_SECRET_KEY=CHANGE_THIS_MINIO_SECRET
MINIO_BUCKET_NAME=triflow-ai
MINIO_SECURE=true

# ===========================================
# AI Models
# ===========================================
ANTHROPIC_API_KEY=sk-ant-your-production-api-key

# LLM Settings
DEFAULT_LLM_MODEL=claude-sonnet-4-5-20250929
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=4096
LLM_TIMEOUT=60

# ===========================================
# Security (MUST CHANGE!)
# ===========================================
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_64_CHARACTER_HEX_STRING
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ===========================================
# CORS & Domain
# ===========================================
# Production domain (comma-separated if multiple)
CORS_ORIGINS=https://your-domain.com

# ===========================================
# OAuth2 - Google
# ===========================================
GOOGLE_CLIENT_ID=your-production-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-client-secret
GOOGLE_REDIRECT_URI=https://your-domain.com/api/v1/auth/google/callback

# ===========================================
# Ports
# ===========================================
BACKEND_PORT=8000
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===========================================
# Monitoring
# ===========================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD
GRAFANA_ROOT_URL=https://monitoring.your-domain.com

# ===========================================
# Notifications
# ===========================================
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_DEFAULT_CHANNEL=#production-alerts

# Email (SMTP)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@your-domain.com
SMTP_USE_TLS=true

# ===========================================
# AWS Configuration (☁️ Terraform 출력 후 업데이트)
# ===========================================

# AWS Core
AWS_ACCOUNT_ID=123456789012
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET_ACCESS_KEY

# RDS PostgreSQL (Terraform output에서 가져오기)
RDS_ENDPOINT=triflow-ai-production-db.xxxxx.ap-northeast-2.rds.amazonaws.com
RDS_ADDRESS=triflow-ai-production-db.xxxxx.ap-northeast-2.rds.amazonaws.com
RDS_PORT=5432
RDS_DATABASE=triflow
RDS_USERNAME=triflow_admin
RDS_PASSWORD=CHANGE_THIS_RDS_PASSWORD

# Database URL (RDS 사용 시)
# 로컬 개발: postgresql://triflow:password@localhost:5432/triflow_ai
# AWS 프로덕션: postgresql://triflow_admin:password@rds-endpoint:5432/triflow
DATABASE_URL=postgresql://${RDS_USERNAME}:${RDS_PASSWORD}@${RDS_ADDRESS}:${RDS_PORT}/${RDS_DATABASE}

# ElastiCache Redis (선택사항, 4-5월 추가 예정)
# ELASTICACHE_ENDPOINT=triflow-redis.xxxxx.cache.amazonaws.com
# ELASTICACHE_PORT=6379
# REDIS_URL=redis://${ELASTICACHE_ENDPOINT}:${ELASTICACHE_PORT}

# S3 Bucket
S3_BUCKET_NAME=triflow-ai-prod
S3_REGION=ap-northeast-2

# ECS (Fargate)
ECS_CLUSTER_NAME=triflow-ai-production-cluster
ECS_SERVICE_NAME=triflow-ai-production-backend-service
ECS_TASK_FAMILY=triflow-ai-production-backend
ECR_REGISTRY=123456789012.dkr.ecr.ap-northeast-2.amazonaws.com
ECR_REPOSITORY=triflow-ai-backend

# ALB
ALB_DNS_NAME=triflow-ai-production-alb-xxxxx.ap-northeast-2.elb.amazonaws.com
ALB_TARGET_GROUP_ARN=arn:aws:elasticloadbalancing:ap-northeast-2:123456789012:targetgroup/...

# CloudWatch
CLOUDWATCH_LOG_GROUP=/aws/ecs/triflow-ai-production-backend
CLOUDWATCH_LOG_STREAM_PREFIX=backend
CLOUDWATCH_METRICS_NAMESPACE=TriFlow/Production

# SNS (알람)
SNS_TOPIC_ARN=arn:aws:sns:ap-northeast-2:123456789012:triflow-ai-production-alarms

# Secrets Manager (선택사항)
SECRETS_MANAGER_DB_SECRET=triflow/prod/database
SECRETS_MANAGER_JWT_SECRET=triflow/prod/jwt
SECRETS_MANAGER_ANTHROPIC_KEY=triflow/prod/anthropic

# Route 53 (도메인 사용 시)
# ROUTE53_HOSTED_ZONE_ID=Z1234567890ABC
# DOMAIN_NAME=triflow-ai.com
