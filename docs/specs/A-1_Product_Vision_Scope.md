# A-1. Product Vision & Scope

## 1. 배경 및 문제 정의
- **대상 도메인**: 제조업(식음료/화학/조립 등), 품질·생산·설비·공급망 단위를 통합 관리하는 스마트팩토리/AI 판단 영역.
- **현장 Pain Point**
  - **판단 일관성 부족**: 품질/설비 이상 탐지 기준이 라인별·사람별로 달라 표준화 어려움.
  - **데이터 파편화**: ERP, MES, 센서, 엑셀 등 데이터가 분산되어 통합 의사결정 지연.
  - **추적성 한계**: 문제 발생 시 원인 파악(RCA) 및 영향 범위 추적에 과도한 시간 소요.
  - **개선 주기 지연**: 경보 남발(오경보) 및 미탐지로 인한 현장 피로도 증가.

## 2. 제품 목표
## 2. 제품 목표 (AI Factory Simulation Engine)
- **핵심 비전**: 단순 모니터링을 넘어, **"의사결정의 임팩트를 시뮬레이션(Zwave)"**하고 최적의 판단을 내리는 AI 엔진.
- **정량 목표** (예시)
  - **불량 조기경보**: 정확도 +20% 향상 (오경보/미탐지 감소).
  - **대응 속도**: 이상 감지 후 조치/판단 리드타임 5분 이내.
  - **업무 효율**: 반복적인 데이터 조회/보고서 작성 업무 30% 자동화.
  - **데이터 정합성**: 주요 공정 데이터 및 판단 로그 100% 디지털화.
- **정성 목표**
  - **AI Co-pilot**: 현장 작업자가 자연어로 설비/품질 데이터를 조회하고 판단 지원을 받음.
  - **지능형 알림**: 단순 임계값 이탈을 넘어, 복합적인 원인 추정 및 조치 가이드 제공.
  - **유연한 확장**: 다양한 설비/센서 및 외부 시스템(ERP/MES)과의 손쉬운 연동.

## 3. 범위(Scope)
- **포함 (1차 릴리즈)**
  - Hybrid Judgment Engine (Rule 엔진+LLM 보완, Policy 기반)
  - Workflow DSL/런타임(재시도/에러/승인/장기 실행) + Builder UI MVP
  - **Zwave Decision Simulation**: 과거 데이터 기반 Rule/Prompt 변경 영향도 분석(Replay).
  - BI Query Planner + 컴포넌트 카탈로그 + 기본 대시보드 렌더러
  - MCP/Native 커넥터(ERP/MES/DB/파일) → 표준 Input JSON으로 변환
  - Logging/Feedback → Learning Service(룰/프롬프트 개선 파이프라인)
  - Redis 캐시, pgvector RAG, 기본 모니터링/알람
- **제외 (향후 확장)**
  - **3D/Physics Digital Twin**: 물리적 충돌, 유체 역학 등 3D 시뮬레이션 및 가상화.
  - 실시간 로봇/PLC 제어 본개발(1차는 Action 추상화/시뮬레이션만)
  - Edge/합성센서 온디바이스 판단(Collector 수준까지) 
  - 강화학습 기반 자율 최적화 (Decision Simulation 고도화로 추후 검토)

## 4. 주요 사용자/역할 정의
## 4. 주요 사용자/역할 정의
- **경영/공장 책임자**: KPI 모니터링, 의사결정 지원, 전체 효율 관리.
- **생산/설비 관리자**: 라인 가동 현황 확인, 이상 조치 승인, 예지보전.
- **품질(QA/QC) 담당**: 공정 품질 모니터링, 검사 데이터 입력, 원인 분석.
- **현장 작업자**: 작업 가이드 확인, 이상 알림 수신 및 초동 조치.
- **시스템/IT 관리자**: 시스템 설정, 권한 관리, 데이터 연동 및 보안 설정.
- **에이전트/시스템**: Intent Router, Judgment Engine, Workflow Executor, BI Planner.

## 5. 성공 기준 (Success Metrics)
- **정확도/품질**: 경보 Precision/Recall, Rule 적용 커버리지, LLM JSON 실패율 < 0.5%
- **신뢰성/속도**: Judgment 평균 지연 ≤ 1.5s(캐시 적중 시 300ms), WF 실행 성공률 ≥ 99%
- **운영/확장성**: 테넌트 온보딩 TTM 1일 이내, 신규 라인/제품 Rule 추가 ≤ 2시간(도구 지원)
- **사용성**: 채팅 기반 의도 분류 정확도 ≥ 90%, Builder 승인 후 실행까지 5분 내 완료
- **컴플라이언스**: 판단/Rule/모델 버전 100% 감사로그, CCP/LOT 추적 100% 보관

## 6. 추적성 체크리스트 (비전/목표 ↔ 요구/측정)
- 정확도/품질: Precision/Recall → A-2 JUD/BI/LRN FR → 테스트(C-3) → 모니터링(D-2 품질 대시보드) → 로그/학습 피드백.
- 속도/신뢰성: 지연/성공률 목표 → A-2 NFR ↔ D-2 SLO/알람 ↔ 성능 테스트(C-3).
- 확장성/온보딩: 테넌트/워크플로우 생성 시간 → A-2 WF/INT FR ↔ 운영 지표/온보딩 체크리스트.
- 사용성: Intent 정확도/Builder UX → A-2 CHAT/WF FR ↔ 테스트/피드백 → 대시보드/설문.
- 컴플라이언스: 감사/추적 → A-2 SEC/OBS/DR FR ↔ B-3 audit_logs ↔ C-5 정책 ↔ D-2/D-3 보관/DR.
