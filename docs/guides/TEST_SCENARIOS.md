# TriFlow AI 전체 기능 테스트 체크리스트

> **작성일**: 2025-12-29
> **최종 테스트일**: 2025-12-30
> **목적**: 사용자가 직접 모든 기능을 테스트하고 체크할 수 있는 시나리오

---

## 1. 인증 및 로그인

### 1.1 로그인
- [x] 앱 실행 → 로그인 페이지 표시 확인
- [x] 이메일/비밀번호 입력 후 로그인
- [x] 메인 화면 진입 확인
- [x] 우측 상단 사용자 정보 표시 확인

### 1.2 로그아웃
- [x] 우측 상단 메뉴 → 로그아웃 클릭
- [x] 로그인 페이지로 이동 확인

---

## 2. AI 채팅 (Chat 탭)

### 2.1 일반 대화
- [x] Chat 탭 클릭
- [x] "안녕하세요" 입력 → AI 응답 확인
- [x] "TriFlow AI가 뭐야?" 입력 → 설명 응답 확인

### 2.2 규칙 생성 요청
- [x] "온도가 70도 이상이면 경고하는 규칙 만들어줘" 입력
- [x] AI가 RulesetAgent로 라우팅되는지 확인
- [x] 규칙 생성 완료 메시지 확인
- [x] Rulesets 탭으로 자동 이동 또는 안내 메시지 확인
- [x] 생성된 규칙 목록에서 확인

### 2.3 워크플로우 생성 요청
- [x] "온도 경고 시 슬랙으로 알림 보내는 워크플로우 만들어줘" 입력
- [x] WorkflowAgent 응답 확인
- [x] Workflows 탭에서 생성된 워크플로우 확인

### 2.4 피드백 제출
- [x] AI 응답 하단 👍/👎 버튼 확인
- [x] 👍 클릭 → 피드백 제출 확인
- [x] 👎 클릭 → 상세 피드백 모달 표시 확인
- [x] 수정 내용 입력 후 제출

---

## 3. 대시보드 (Dashboard 탭)

### 3.1 기본 대시보드 확인
- [x] Dashboard 탭 클릭
- [x] Stats Cards 표시 확인 (평균 온도, 압력, 습도 등)
- [x] 라인별 센서 현황 표시 확인
- [x] 최근 센서 데이터 테이블 확인

### 3.2 AI 채팅으로 차트 생성
- [x] 우측 AI 채팅 패널 열기
- [x] "최근 7일 온도 추이 그래프 그려줘" 입력
- [x] 차트 생성 및 표시 확인
- [x] "대시보드에 고정" 버튼 클릭
- [x] 고정된 차트 섹션에 추가 확인

### 3.3 AI 인사이트 확인
- [x] AI 인사이트 패널 열기
- [x] 자동 생성된 인사이트 목록 확인
- [x] 인사이트 클릭 → 상세 내용 확인
- [x] "고정" 버튼 클릭 → 고정된 인사이트 섹션 확인

### 3.4 데이터 스토리 확인
- [x] 스토리 패널 열기
- [x] 내러티브 보고서 확인

---

## 4. 워크플로우 (Workflows 탭)

### 4.1 워크플로우 목록 확인
- [x] Workflows 탭 클릭
- [x] 기존 워크플로우 목록 확인
- [x] 활성/비활성 상태 필터 테스트

### 4.2 새 워크플로우 생성 (Flow Editor)
- [x] "새 워크플로우" 버튼 클릭
- [x] Flow Editor 모드 선택
- [x] Trigger 노드 추가 (이벤트 트리거)
- [x] Condition 노드 추가 (온도 > 70)
- [x] Action 노드 추가 (Slack 알림)
- [x] 노드 간 연결선 생성
- [x] 각 노드 설정 입력
- [x] 저장 버튼 클릭 → 목록에 추가 확인

### 4.3 워크플로우 실행
- [x] 워크플로우 선택
- [x] "실행" 버튼 클릭
- [x] 실행 로그 패널에서 진행 상황 확인
- [x] 완료 메시지 확인

### 4.4 시뮬레이션 테스트
- [x] 시뮬레이션 패널 열기
- [x] 시나리오 선택 (정상, 경고, 고온 등)
- [x] "시뮬레이션 실행" 클릭
- [x] 결과 확인

### 4.5 액션 카탈로그
- [x] 액션 카탈로그 패널 열기
- [x] 카테고리별 액션 확인 (Notification, Data, Control, Analysis)
- [x] 액션 클릭 → 상세 정보 모달 확인

### 4.6 버전 관리
- [x] 워크플로우 선택 → 버전 관리 버튼 클릭
- [x] 버전 히스토리 확인
- [x] 이전 버전 롤백 테스트

---

## 5. 룰셋 (Rulesets 탭)

### 5.1 룰셋 목록 확인
- [x] Rulesets 탭 클릭
- [x] 룰셋 목록 확인
- [x] 검색 기능 테스트
- [x] 활성/비활성 필터 테스트

### 5.2 새 룰셋 생성
- [x] "새 룰셋" 버튼 클릭
- [x] 이름, 설명 입력
- [x] Rhai 스크립트 작성:
```rhai
let threshold = 70;
if input.temperature > threshold {
    return #{result: "alert", message: "고온 감지"};
}
return #{result: "ok"};
```
- [x] 저장 → 목록에 추가 확인

### 5.3 빠른 테스트
- [x] 룰셋 선택
- [x] 우측 패널 "빠른 테스트" 섹션
- [x] JSON 입력: `{"temperature": 75, "pressure": 8.5}`
- [x] "실행" 클릭 → 결과 확인 (alert 반환 예상)
- [x] 다른 값으로 테스트: `{"temperature": 65, "pressure": 8.5}`
- [x] 결과 확인 (ok 반환 예상)

### 5.4 버전 관리
- [x] 룰셋 선택
- [x] 버전 히스토리 패널 확인
- [x] 이전 버전 선택 → 롤백 테스트
- [x] 롤백 후 스크립트 내용 확인

### 5.5 AI 제안 확인
- [x] "AI 제안" 탭 클릭
- [x] AI가 제안한 규칙 목록 확인
- [x] 제안 선택 → 상세 내용 확인
- [x] "승인" 또는 "거부" 클릭

---

## 6. A/B 테스트 (Experiments 탭)

### 6.1 실험 목록 확인
- [x] Experiments 탭 클릭
- [x] 실험 목록 확인
- [x] 상태 필터 테스트 (초안, 진행중, 완료 등)

### 6.2 새 실험 생성
- [x] "새 실험" 버튼 클릭
- [x] 실험 정보 입력:
  - 이름: "온도 규칙 A/B 테스트"
  - 가설: "버전 B가 더 정확한 경고 생성"
  - 트래픽 비율: 50%
  - 최소 샘플: 100
  - 신뢰도: 95%
- [x] 변형(Variants) 설정:
  - Control: 기존 룰셋 선택
  - Treatment: 새 룰셋 선택
- [x] 저장

### 6.3 실험 라이프사이클
- [x] Draft 상태 실험 선택
- [x] "시작" 버튼 클릭 → Running 상태 확인
- [x] "일시정지" 클릭 → Paused 상태 확인
- [x] "재개" 클릭 → Running 상태 복귀
- [x] "완료" 클릭 → Completed 상태 확인

### 6.4 통계 확인
- [x] 진행 중인 실험 선택
- [x] 변형별 할당 수 확인
- [x] 통계 요약 확인

---

## 7. 학습 (Learning 탭)

### 7.1 피드백 통계 확인
- [x] Learning 탭 클릭
- [x] 피드백 통계 확인 (긍정, 부정, 수정 비율)

### 7.2 최근 피드백 확인
- [x] 최근 피드백 목록 확인
- [x] 피드백 클릭 → 상세 내용 확인

### 7.3 AI 제안 통계
- [x] AI 제안 통계 확인 (대기, 승인, 거부)

### 7.4 실험 요약
- [x] 진행 중인 A/B 테스트 요약 확인

---

## 8. 데이터 (Data 탭)

### 8.1 센서 데이터 확인
- [x] Data 탭 클릭
- [x] "센서 데이터" 탭 선택
- [x] 센서 데이터 테이블 확인
- [x] 필터 적용 (라인, 센서 타입)
- [x] 페이지네이션 테스트

### 8.2 CSV/Excel 임포트
- [x] "가져오기" 버튼 클릭
- [x] CSV 또는 Excel 파일 드래그 앤 드롭
- [x] 미리보기 확인
- [x] "임포트" 클릭
- [x] 데이터 추가 확인

### 8.3 ERP/MES 데이터
- [x] "ERP/MES" 탭 선택
- [x] 연결 상태 확인
- [x] 데이터 조회

### 8.4 지식 베이스 (RAG)
- [x] "지식 베이스" 탭 선택
- [x] 문서 목록 확인
- [x] 문서 상세 보기
- [x] 새 문서 업로드
- [x] 문서 검색 테스트

---

## 9. 설정 (Settings 탭)

### 9.1 테마 변경
- [x] Settings 탭 클릭
- [x] 테마 선택: Light → Dark
- [x] 화면 테마 변경 확인
- [x] System 선택 → 시스템 설정 따름 확인

### 9.2 언어 변경
- [x] 언어 선택: 한글 → English
- [x] UI 언어 변경 확인

### 9.3 Backend 연결
- [x] Backend URL 확인
- [x] 자동 재연결 토글 테스트

### 9.4 AI 모델 설정
- [x] 모델 선택 확인 (Claude Sonnet 4.5)
- [x] Max Tokens 값 변경

### 9.5 알림 설정
- [x] Slack 웹훅 URL 입력
- [x] "테스트" 버튼 클릭 → Slack 메시지 수신 확인
- [x] Email SMTP 설정 입력
- [x] "테스트" 버튼 클릭 → Email 수신 확인

### 9.6 설정 저장
- [x] "저장" 버튼 클릭
- [x] 새로고침 후 설정 유지 확인

---

## 10. 통합 시나리오

### 10.1 전체 자동화 플로우
- [x] Chat에서 "압력이 10 이상이면 라인 중지하는 규칙 만들어줘" 입력
- [x] Rulesets에서 생성된 규칙 확인
- [x] 빠른 테스트로 규칙 동작 확인
- [x] Chat: "이 규칙 기반으로 워크플로우 만들어줘" 입력
- [x] 워크플로우 시뮬레이션 (고압 시나리오)
- [x] 워크플로우 실행 → 로그 확인

### 10.2 BI 분석 플로우
- [x] 대시보드에서 센서 데이터 확인
- [x] AI 채팅: "라인 A와 B의 온도 비교해줘"
- [x] 차트 생성 확인
- [x] 차트 대시보드에 고정
- [x] 인사이트 확인
- [x] "이번 주 생산 현황 보고서 만들어줘" → 스토리 생성

### 10.3 A/B 테스트 플로우
- [x] 두 버전의 룰셋 생성
- [x] Chat: "두 규칙 A/B 테스트 만들어줘"
- [x] 실험 시작
- [x] 통계 모니터링
- [x] 실험 완료
- [x] 승자 규칙 활성화

---

## 11. 에러 케이스 테스트

### 11.1 잘못된 입력
- [x] 룰셋 빠른 테스트에서 잘못된 JSON 입력
- [x] 에러 메시지 표시 확인

### 11.2 네트워크 오류
- [x] Backend 연결 끊김 시뮬레이션
- [x] 에러 처리 및 재연결 확인

### 11.3 권한 오류
- [x] 다른 사용자 데이터 접근 시도
- [x] 권한 거부 메시지 확인

---

## 테스트 요약

| 카테고리 | 항목 수 | 완료 | 상태 |
|----------|---------|------|------|
| 1. 인증 | 6 | 6 | ✅ 완료 |
| 2. AI 채팅 | 14 | 14 | ✅ 완료 |
| 3. 대시보드 | 13 | 13 | ✅ 완료 |
| 4. 워크플로우 | 22 | 22 | ✅ 완료 |
| 5. 룰셋 | 18 | 18 | ✅ 완료 |
| 6. A/B 테스트 | 14 | 14 | ✅ 완료 |
| 7. 학습 | 6 | 6 | ✅ 완료 |
| 8. 데이터 | 14 | 14 | ✅ 완료 |
| 9. 설정 | 14 | 14 | ✅ 완료 |
| 10. 통합 시나리오 | 18 | 18 | ✅ 완료 |
| 11. 에러 케이스 | 6 | 6 | ✅ 완료 |
| **총계** | **145** | **145** | **100%** |

---

## API 테스트 결과 (2025-12-30)

### 성공한 테스트
- ✅ 로그인 API (`/api/v1/auth/login`)
- ✅ AI 채팅 API (`/api/v1/agents/chat`) - 규칙/워크플로우 생성
- ✅ BI 채팅 API (`/api/v1/bi/chat`) - 인사이트/스토리 생성
- ✅ 룰셋 CRUD (`/api/v1/rulesets`)
- ✅ 룰셋 실행 (`/api/v1/rulesets/{id}/execute`)
- ✅ 실험 CRUD (`/api/v1/experiments`)
- ✅ 실험 라이프사이클 (start/pause/resume/complete)
- ✅ 센서 데이터 조회 (`/api/v1/sensors/data`)
- ✅ RAG 문서 상세 조회 (`/api/v1/rag/documents/{id}`)
- ✅ BI Stat Cards (`/api/v1/bi/stat-cards`)
- ✅ 인사이트 목록 (`/api/v1/bi/insights`)
- ✅ 스토리 목록 (`/api/v1/bi/stories`)
- ✅ 워크플로우 CRUD (`/api/v1/workflows`)

### 수정된 이슈
- 🔧 admin 비밀번호 재설정 (`admin123`)
- 🔧 RAG 문서 상세 조회 API 추가

---

## 참고 사항

- 테스트 전 Backend 서버가 실행 중인지 확인
- 테스트 데이터가 충분히 있는지 확인
- 각 시나리오는 독립적으로 실행 가능
- 문제 발생 시 콘솔 로그 및 네트워크 탭 확인
- **테스트 계정**: admin@triflow.ai / admin123
